{
  "remoteEnv": {
    "NEXT_TELEMETRY_DISABLED": 1
  },
  // You can control the minimum machine capabilities here. Some applications may require more memory, more disk storage or more cores, use it accordingly.
  // See https://containers.dev/implementors/json_reference/#min-host-reqs
  "hostRequirements": {
    "storage": "32gb",
    "memory": "8gb"
  },
  // Install application dependencies after start
  "postAttachCommand": "npm ci",
  // Login automatically to Azure using codespaces secrets.
  "postCreateCommand": " az login --service-principal -u $AZURE_CLIENT_ID --tenant $AZURE_TENANT_ID -p $AZURE_CLIENT_SECRET",
  // This defines the base image we are going to use. By using our own Dockerfile we will customize our environment
  // So instead of using codespaces default image we are using an image that contains node 18.
  "build": {
    "dockerfile": "Dockerfile",
    // Change this value to use another nodejs version.
    // See on https://github.com/devcontainers/images/blob/main/src/javascript-node/history/0.204.8.md other image variants that are available.
    "args": {
      "VARIANT": "18-bullseye"
    }
  },
  // Install azure and GitHub CLIs on the image.
  "features": {
    "azure-cli": "latest",
    "ghcr.io/devcontainers/features/github-cli:1": {
      "version": "2.19.0"
    }
  },
  "remoteUser": "node",
  "customizations": {
    // Configure properties specific to VS Code.
    "vscode": {
      // Set *default* container specific settings.json values on container create.
      "settings": {
        "git.autofetch": true,
        "eslint.alwaysShowStatus": true,
        "terminal.integrated.profiles.linux": {
          "shell": {
            "path": "/bin/bash"
          }
        },
        "telemetry.enableTelemetry": false,
        // Don't offer extension recommendations message. If we don't disable this, vscode will offer to automatically install extensions based on the content of the repo.
        // See: https://code.visualstudio.com/docs/editor/extension-marketplace#_can-i-stop-vs-code-from-providing-extension-recommendations
        "extensions.ignoreRecommendations": true
      },
      // VS Code extensions, to make the developer experience more enjoybable. They will be installed automatically
      "extensions": [
        "ms-azuretools.vscode-docker", // https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker
        "dbaeumer.vscode-eslint", // https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint
        "christian-kohler.npm-intellisense", // https://marketplace.visualstudio.com/items?itemName=christian-kohler.npm-intellisense
        "cschleiden.vscode-github-actions"
      ]
    }
  }
}